{% extends 'base.html' %}
{% load static %}
{% block content %}

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

<div class="container">
    <table class="table table-dark table-striped">
        <thead>
            <tr class="table-dark">
            <th scope="col">id</th>
            <th scope="col">Name</th>
            <th scope="col">Category</th>
            <th scope="col">Price</th>
            <th scope="col">Stars</th>
            {% if user.is_authenticated %}
                <th scope="col">Update</th>
                <th scope="col">Delete</th>
            {% endif %}
            </tr>
        </thead>
            <tbody>
            {% for product in product_list %}
                <tr class="table-secondary"> 
                    <td>{{ product.id }}</td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.category }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ product.stars }}</td>
                    {% if user.is_authenticated %}
                                    
                        {% if user.id == product.author.id %}
                            <td><button type="button" class="btn btn-outline-success">
                                <a href="{% url 'update_product' product.pk %}">Update</a>
                                </button>
                            </td>
                        {% else %}
                            <td><button type="button" class="btn btn-outline-success">
                                <a href="{% url 'login' %}">Login</a>
                                </button>
                            </td>
                        {% endif %}
                    {% endif %}
                                     
                                   
                    {% if user.is_authenticated %}
                         {% if user.id == product.author.id %}
                            <td><button type="button" class="btn btn-outline-danger">
                                <a href="{% url 'delete_product' product.pk %}">Delete</a>
                                </button>
                            </td>
                        {% else %}
                            <td><button type="button" class="btn btn-outline-danger">
                                <a href="{% url 'login' %}">Login</a>
                                </button>
                            </td>
                        {% endif %}
                            
                                    
                    {% endif %}
                                    
            {% endfor %} 
            </tbody>
    </table>
</div>


<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>




{% endblock %}
